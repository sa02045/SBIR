# 40장 이벤트

## 40.1 이벤트 드리븐 프로그래밍
어떤 타입의 이벤트가 발생했을 때 호출될 함수를 브라우저에게 알려 호출을 위임한다
- 호출될 함수를 `이벤트 핸들러`
- 브라우저에게 이벤트 핸들러의 호출을 위임하는 것을 `이벤트 핸들러 등록`이라고 한다
  
사용자 버튼을 클릭했을 때 함수를 호추랗여 어떤 처리를 하고 싶다면, 문제는 "언제 함수를 호출하느냐"이다.
사용자가 버튼을 언제 누를 지는 알 수 없다.

브라우저는 사용자가 버튼을 클릭하는 것을 감지하여 클릭 이벤트를 발생시킬 수 있다. 
그리고 특성 함수(이벤트 핸들러)를 호출하도록 브라우저에 이벤트 핸들러를 등록하여 호출을 위임할 수 있다.

> 함수를 언제 호출할 지 모르니, 브라우저에게 호출을 위임하는 것. 그것이 이벤트 핸들러 등록이다.

이와 같이 이벤트 중심으로 프로그래밍하는 방식을 이벤트 드리븐 프로그래밍이라고 한다.

## 40.2 이벤트 타입

- 이벤트 타입은 이벤트의 종류를 나타내는 문자열이다.
- 'click'은 사용자가 마우스 버튼을 클릭했을 때 발생하는 이벤트이다.

이벤트 종류
- 마우스 이벤트
- 키보드 이벤트
- 포커스 이벤트
- 폼 이벤트
- 값 변경 이벤트
- DOM 뮤테이션 이벤트
- 뷰 이벤트
- 리소스 이벤트
  
  ## 40.3 이벤트 핸들러 등록
  - 이벤트 핸들러: 이벤트가 발생했을 떄 브라우저에게 호출을 위임한 함수
  - 이벤트 핸들러 등록: 브라우저에게 호출을 위임하는 것

이벤트 핸들러를 등록하는 방법은 3가지이다.

### 40.3.1 이벤트 핸들러 어트리뷰트 방식

HTML요소의 어트리뷰트를 사용한다. onclick과 같이 on접두사와 이벤트타입으로 이루어져있다.
```html
<button onclick="sayHi('jo')"></button>
```

- 어트리뷰트 값으로 함수 참조가 아니라 `함수 호출문등의 문`을 할당한다는 것이 중요하다
- 다음과 같이 암묵적으로 생성될 이벤트 핸들러의 함수 몸체를 의미한다.
  
```js
function onClick(event){
    sayHi("jo")
}
```
- 어트리뷰트 값으로 함수 참조를 할당해야한다면 인수를 전달하기 어렵다.
- 어트리뷰트 방식은 HTML과 자바스크립트의 관심사를 분리하는 것이 좋기 때문에 사용하지 않는 것이 좋다.
- 컴포넌트형식의 라이브러리,프레임워크 경우 이벤트핸들러 어트리뷰트 방식으로 이벤트를 처리한다.


### 40.3. 이벤트 핸들러 프로퍼티 방식

window객체와 DOM 노드 객체는 이벤트에 대응하는 이벤트 핸들러 프러퍼티를 가지고 있다.
- 이벤트 핸들러 프러퍼티의 키는 onclicr과 같이 on 접두사+이벤트 타입으로 이루어져있다.
- 이벤트 핸들러 프러퍼티에 함수를 바인딩하면 이벤트 핸들러가 등록된다.

```js
const button = document.querySelector('button');

button.onclick = () => {
    console.log("clicked")
}
```

- 이벤트 핸들러를 등록하기 위해서는 이벤트를 발생시킬 객체인 `이벤트 타깃`(button)과 이벤트 종류를 나타내는 문자열 `이벤트 타입`(onclick), `이벤트 핸들러`를 지정할 필요가 있다.


반드시 이벤트 타깃에 이벤트 핸들러를 바인딩해야하는 것은 아니다. `이벤트 타깃` 또는 전파된 이벤트를 캐치할 `DOM 노드 객체`에 바인딩된다.


이벤트 핸들러 어트리뷰트 방식도 결국 DOM 노드 객체의 이벤트 핸들러 프러퍼티로 변환된다.
프로퍼티 방식은 HTML과 자바스크립트가 뒤섞이는 문제를 해결할 수 있다. 하지만 이벤트 핸들러 프로퍼티에 하나의 이벤트 핸들러만 바인딩할 수 있다는 단점이 있다.

```js
button.onclick = function() {

}

```

### 40.3.3 addEventListener 메서드 방식

EventTarget.addEventListener(이벤트타입, 이벤트핸들러,옵션)
- on접두사를 붙이지 않고 이벤트 타입을 첫번째 인자로 건낸다.
- 마지막 매개변수에는 이벤트를 캐치할 이벤트 전파 단계를 지정한다.


addEventListener 메서드 방식은 이벤트 핸들러 프러퍼티에 바인딩된 이벤트 핸들러에 아무런 영향을 미치지 않는다
- 하나 이상의 이벤트 핸드러를 등록할 수 있다.
- 이때 이벤트 핸들러는 등록된 순서대로 호출된다

## 40.4 이벤트 핸들러 제거

`removeEventListener` 메서드를 사용해 이벤트를 제거할 수 있다
